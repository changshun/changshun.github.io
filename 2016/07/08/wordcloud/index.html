<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> ç»˜åˆ¶WISEè€å¸ˆè®ºæ–‡å…³é”®è¯è¯äº‘ | Changshunçš„Blog</title><meta name="description" content="ç»˜åˆ¶WISEè€å¸ˆè®ºæ–‡å…³é”®è¯è¯äº‘ - Changshun"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/casual.css"><link rel="stylesheet" href="/css/semantic.min.css"><link rel="search" type="application/opensearchdescription+xml" href="http://shichangshun.cn/atom.xml" title="Changshunçš„Blog"></head><body><div class="sidebar"><div class="ui vertical inverted menu"><div class="h100"></div><h3 class="ui inverted aligned icon header"><div class="content"><a href="/" class="title-link">CHANGSHUNçš„BLOG</a></div></h3><div class="h50"></div><div class="side-nav"><a href="/" target="_self" class="item">HOME<i class="icon home"></i></a><a href="/categories" target="_self" class="item">CATEGORIES<i class="icon categories"></i></a><a href="/about" target="_self" class="item">ABOUT<i class="icon about"></i></a><a href="/archives" target="_self" class="item">ARCHIVES<i class="icon archives"></i></a><a href="/tags" target="_self" class="item">TAGS<i class="icon tags"></i></a><a href="/atom.xml" target="_self" class="item">RSS<i class="icon rss"></i></a></div><div class="item"><div class="ui inverted transparent icon input"><input type="text" placeholder="Search..." class="st-default-search-input"><i class="search icon"></i></div></div><div class="h50"></div></div><div class="h50 mq"><a class="ui teal big label"><i class="content icon"></i></a></div><div class="author-info"><a href="/" class="img-link"><img src="http://i.imgbox.com/v0MVVgnM.jpeg" class="author-photo ui tiny circular image"></a><h4 class="ui aligned icon header"><div class="content">Changshun</div></h4><p class="author-desc">Rã€Pythonã€æ•°æ®çˆ±å¥½è€… | é‡åŒ–ğŸ¶ | è©¹ğŸ¶ä¸€åª</p><div class="social-outer"><div class="social-inner"><a href="https://github.com/changshun" target="_blank" class="social-link"><i class="icon github"></i></a><a href="https://twitter.com/allenstoneshi" target="_blank" class="social-link"><i class="icon twitter"></i></a></div></div></div></div><div class="main"><div class="wrap"><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">ç»˜åˆ¶WISEè€å¸ˆè®ºæ–‡å…³é”®è¯è¯äº‘</h1><div class="post-info"><div class="post-date"><h6 class="ui header"><i class="calendar icon"></i><div class="content">Jul 8, 2016</div></h6></div></div><div class="post-content"><blockquote>
<p>æœ€è¿‘çœ‹åˆ°<a href="http://lchiffon.github.io/" target="_blank" rel="external">@lchiffon</a>å†™çš„<a href="http://github.com/lchiffon/wordcloud2" target="_blank" rel="external">wordcloud2</a>ï¼Œæ¯”<a href="https://cran.r-project.org/web/packages/wordcloud/" target="_blank" rel="external">wordcloud</a>ä½¿ç”¨æ›´ç®€å•ï¼Œæ•ˆæœä¹Ÿæ›´ç‚«é…·æ›´çµæ´»ã€‚äºæ˜¯æƒ³ç”»ä¸€ä¸ªWISEè€å¸ˆå‘è¡¨è‹±æ–‡è®ºæ–‡çš„å…³é”®è¯çš„è¯äº‘ã€‚æœ¬æ–‡çš„æ­¥éª¤åŒ…æ‹¬æ•°æ®æŠ“å–å’Œç»˜åˆ¶è¯äº‘ä¸¤ä¸ªæ­¥éª¤ã€‚</p>
</blockquote>
<h1 id="0-å‡†å¤‡"><a href="#0-å‡†å¤‡" class="headerlink" title="0. å‡†å¤‡"></a>0. å‡†å¤‡</h1><h2 id="0-1-å®‰è£…wordcloud2"><a href="#0-1-å®‰è£…wordcloud2" class="headerlink" title="0.1 å®‰è£…wordcloud2"></a>0.1 å®‰è£…<code>wordcloud2</code></h2><p><code>wordcloud2</code>é¦–æ¬¡è¿è¡Œå‰éœ€è¦ä»ä½œè€…çš„githubä¸‹è½½å®‰è£…ï¼Œè¿è¡Œä¸‹é¢çš„ä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">devtools::install_github(&quot;lchiffon/wordcloud2&quot;)</div></pre></td></tr></table></figure>
<h2 id="0-2-è½½å…¥è¦ç”¨çš„åŒ…ï¼š"><a href="#0-2-è½½å…¥è¦ç”¨çš„åŒ…ï¼š" class="headerlink" title="0.2 è½½å…¥è¦ç”¨çš„åŒ…ï¼š"></a>0.2 è½½å…¥è¦ç”¨çš„åŒ…ï¼š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">library(RCurl)</div><div class="line">library(XML)</div><div class="line">library(stringr)</div><div class="line">library(plyr)</div><div class="line">library(dplyr)</div><div class="line">library(wordcloud2)</div><div class="line">library(tm)</div></pre></td></tr></table></figure>
<ul>
<li><code>Rcurl</code>å’Œ<code>XML</code>ç”¨äºç½‘é¡µçš„æŠ“å–ï¼Œ</li>
<li><code>stringr</code>ç”¨äºæŠ“å–æ–‡æœ¬çš„å¤„ç†å’Œæå–</li>
<li><code>plyr</code>å’Œ<code>dplyr</code>ç”¨äºæ•°æ®å˜å½¢å’Œå¤„ç†</li>
<li><code>wordcloud2</code>åˆ™ç”¨äºè¯äº‘çš„ç»˜åˆ¶</li>
</ul>
<h1 id="1-æŠ“å–è®ºæ–‡ä¿¡æ¯"><a href="#1-æŠ“å–è®ºæ–‡ä¿¡æ¯" class="headerlink" title="1. æŠ“å–è®ºæ–‡ä¿¡æ¯"></a>1. æŠ“å–è®ºæ–‡ä¿¡æ¯</h1><blockquote>
<p>ç‹äºšå—ç»æµç ”ç©¶é™¢(WISE)æˆç«‹äº2005å¹´ï¼Œæ˜¯å¦é—¨å¤§å­¦ä¸€ä¸ªå®ä½“æ€§çš„ç»æµå­¦æ•™è‚²ç§‘ç ”æœºæ„ï¼Œä¸å¤ªé•¿çš„æ—¶é—´å†…ï¼Œæˆä¸ºäºšå¤ªåœ°åŒºå’Œä¸­å›½ä¸€æµçš„ã€ä¸å›½é™…æ¥è½¨çš„ç°ä»£ç»æµå­¦æ•™è‚²å’Œç ”ç©¶æœºæ„ã€‚</p>
</blockquote>
<p><code>WISE</code>å°†æ‰€æœ‰è€å¸ˆå…¬å¼€å‘è¡¨çš„è®ºæ–‡æ”¾åœ¨ <a href="http://121.192.176.75/index.php?ser_id=2" target="_blank" rel="external">http://121.192.176.75/index.php?ser_id=2</a>è¿™ä¸ªç½‘ç«™ä¸Šï¼Œå…¶ä¸­è‹±æ–‡æœŸåˆŠæœ‰180ç¯‡ï¼Œ ä¸­æ–‡æœ‰60ä½™ç¯‡ã€‚æˆ‘ä»¬è¿™æ¬¡ä¸ºäº†ç»˜åˆ¶è¯äº‘çš„ç¾è§‚ï¼Œåªé€‰å»å…¶ä¸­è‹±æ–‡æœŸåˆŠçš„å…³é”®è¯ä¿¡æ¯ã€‚</p>
<p><img src="/img/wisepapers/page.png" alt=""></p>
<h2 id="1-1-è·å¾—åˆ†é¡µç½‘å€"><a href="#1-1-è·å¾—åˆ†é¡µç½‘å€" class="headerlink" title="1.1 è·å¾—åˆ†é¡µç½‘å€"></a>1.1 è·å¾—åˆ†é¡µç½‘å€</h2><p>ç½‘ç«™å°†250å¤šä¸ªè®ºæ–‡æ¡ç›®æ¯20æ¡æ”¾ç½®ä¸€é¡µï¼Œæ¯ä¸ªåˆ†é¡µé€šè¿‡ç½‘å€ä½“ç°å‡ºæ¥ï¼Œ<code>http://121.192.176.75/index.php?ser_id=2&amp;search=&amp;year=&amp;os=&lt;æ•°å­—&gt;</code>ï¼Œ <code>&lt;æ•°å­—ä½ç½®&gt;</code>ä¸º20çš„å€æ•°ï¼Œ æ€»å…±æœ‰13é¡µã€‚ä¸‹é¢çš„ä»£ç ç”Ÿæˆæ²¡ä¸ªåˆ†é¡µçš„ç½‘å€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># è·å¾—è®ºæ–‡çš„æ¯ä¸€ä¸ªåˆ†é¡µ</div><div class="line">pageLinks &lt;- str_c(&quot;http://121.192.176.75/index.php?ser_id=2&amp;search=&amp;year=&amp;os=&quot;,seq(0, 240, 20))</div></pre></td></tr></table></figure>
<h2 id="1-2-è·å¾—æ¯ç¯‡è®ºæ–‡çš„é“¾æ¥"><a href="#1-2-è·å¾—æ¯ç¯‡è®ºæ–‡çš„é“¾æ¥" class="headerlink" title="1.2 è·å¾—æ¯ç¯‡è®ºæ–‡çš„é“¾æ¥"></a>1.2 è·å¾—æ¯ç¯‡è®ºæ–‡çš„é“¾æ¥</h2><p><code>getHTMLLinks</code>æ˜¯<code>Rcurl</code>å†…ç½®çš„ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥è·å¾—æŸä¸ªé¡µé¢ä¸Šæ‰€æœ‰çš„é“¾æ¥ï¼š</p>
<ul>
<li>å¯¹ä¸Šé¢ç”Ÿæˆçš„é¡µé¢ç½‘å€åº”ç”¨<code>getHTMLLinks</code>å‡½æ•°ï¼Œ å°±å¯ä»¥è·å¾—è¿™äº›åˆ†é¡µä¸Šçš„æ‰€æœ‰çš„ç½‘å€ï¼›  </li>
<li>å¯¹æŠ“å–çš„ç½‘å€åŒ¹é…<code>&quot;\\?ser_id=2&amp;p_id=\\d+&quot;</code>è·å¾—ç¬¦åˆæ¡ä»¶çš„è®ºæ–‡çš„é“¾æ¥;   </li>
<li>è¡¥é½ç½‘å€ã€‚</li>
</ul>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">paperlinks &lt;- lapply(pageLinks, getHTMLLinks)%&gt;%</div><div class="line">  unlist()%&gt;%</div><div class="line">  str_extract(&quot;\\?ser_id=2&amp;p_id=\\d+&quot;)%&gt;%</div><div class="line">  na.omit()%&gt;%</div><div class="line">  str_c(&quot;http://121.192.176.75/index.php&quot;,.)</div><div class="line">head(paperlinks)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">## [1] &quot;http://121.192.176.75/index.php?ser_id=2&amp;p_id=2329&quot;</div><div class="line">## [2] &quot;http://121.192.176.75/index.php?ser_id=2&amp;p_id=2322&quot;</div><div class="line">## [3] &quot;http://121.192.176.75/index.php?ser_id=2&amp;p_id=2333&quot;</div><div class="line">## [4] &quot;http://121.192.176.75/index.php?ser_id=2&amp;p_id=2338&quot;</div><div class="line">## [5] &quot;http://121.192.176.75/index.php?ser_id=2&amp;p_id=2332&quot;</div><div class="line">## [6] &quot;http://121.192.176.75/index.php?ser_id=2&amp;p_id=2321&quot;</div></pre></td></tr></table></figure>
<h2 id="1-3-æŠ“å–è®ºæ–‡ä¿¡æ¯"><a href="#1-3-æŠ“å–è®ºæ–‡ä¿¡æ¯" class="headerlink" title="1.3 æŠ“å–è®ºæ–‡ä¿¡æ¯"></a>1.3 æŠ“å–è®ºæ–‡ä¿¡æ¯</h2><p>æˆ‘ä»¬ä½¿ç”¨<code>Rcurl</code>åŒ…å†…çš„<code>xpathSApply</code>å‡½æ•°ï¼Œ é€šè¿‡åŒ¹é…<code>Xpath</code>å®šä½æˆ‘ä»¬éœ€è¦æŠ“å–çš„å†…å®¹åœ¨ç½‘é¡µçš„ä½ç½®è¿›è¡ŒæŠ“å–ï¼ˆä¸æ‡‚<code>Xpath</code>,å¯ä»¥å‚è€ƒw3schoolsæä¾›çš„ä¸€ä¸ªç³»åˆ—æ•™ç¨‹<a href="http://www.w3schools.com/xsl/xpath_intro.asp" target="_blank" rel="external">http://www.w3schools.com/xsl/xpath_intro.asp</a>ï¼‰ã€‚</p>
<p><code>getPaperInfo</code>æ˜¯æŠ“å–å•æ¡è®ºæ–‡ä¿¡æ¯çš„å‡½æ•°ï¼Œè¿”å›åŒ…å«<code>author</code>, <code>title</code>,<code>journal</code>,<code>keyWords</code>, <code>paperlink</code>,<code>fullTextLink</code>, <code>updatedDate</code>çš„<code>data.frame</code></p>
<p><img src="/img/wisepapers/xpath.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"># Function to scrap</div><div class="line">getPaperInfo &lt;- function(paperlink)&#123;</div><div class="line">  page_parse &lt;- htmlParse(paperlink,encoding = &quot;utf-8&quot;)</div><div class="line">  # Get author name</div><div class="line">  author &lt;- xpathSApply(page_parse,&apos;//*[@id=&quot;paged_list&quot;]/dl/dd[1]/strong&apos;,xmlValue)</div><div class="line">  # insert &amp; between diff names</div><div class="line">  author &lt;- str_replace(author, &apos;,&apos;,&apos;\\&amp;&apos;)</div><div class="line">  # paper title</div><div class="line">  title &lt;- xpathSApply(page_parse,&apos;//*[@id=&quot;paged_list&quot;]/dl/dt&apos;, xmlValue)</div><div class="line">  # paper url</div><div class="line">  journal &lt;- xpathSApply(page_parse,&apos;//*[@id=&quot;paged_list&quot;]/dl/dd[2]/i&apos;, xmlValue)</div><div class="line">  # File name include authoe title journal</div><div class="line">  keyWords &lt;- xpathSApply(page_parse,&apos;//*[@id=&quot;paged_list&quot;]/dl/dd[6]/text()&apos;, xmlValue)</div><div class="line">  keyWords &lt;- ifelse(length(keyWords)==0, NA, keyWords)</div><div class="line">  fullTextLink &lt;- getHTMLLinks(page_parse)%&gt;%</div><div class="line">    str_extract(&quot;.+\\.pdf&quot;)%&gt;%</div><div class="line">    na.omit()</div><div class="line">  fullTextLink &lt;- ifelse(length(fullTextLink)==0,NA,                str_c(&quot;http://121.192.176.75&quot;,fullTextLink))</div><div class="line">  updatedDate &lt;- xpathSApply(page_parse,&apos;//*[@id=&quot;paged_list&quot;]/dl/dd[3]&apos;, xmlValue)%&gt;%</div><div class="line">    str_extract(&quot;20\\d&#123;6&#125;&quot;)</div><div class="line">  paperInfo &lt;- data.frame(author, title,journal,keyWords, paperlink,fullTextLink, updatedDate)</div><div class="line">  return(paperInfo)</div><div class="line">&#125;</div><div class="line">getPaperInfo(paperlinks[10])</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#        author                              title  journal                     keyWords</div><div class="line">#1 éŸ©ä¹¾&amp; æ´ªæ°¸æ·¼ å›½å®¶äº§ä¸šæ”¿ç­–ã€èµ„äº§ä»·æ ¼ä¸æŠ•èµ„è€…è¡Œä¸º ç»æµç ”ç©¶ äº§ä¸šæ”¿ç­–ï¼Œè¿‡æ—¶ä¿¡æ¯ï¼Œè¿‡åº¦ååº”</div><div class="line">#                                           paperlink                                             </div><div class="line"># http://121.192.176.75/index.php?ser_id=2&amp;p_id=2327</div><div class="line"># fullTextLink </div><div class="line">#1 http://121.192.176.75/repec/upload/201602231742217864.pdf    </div><div class="line">#updatedDate</div><div class="line"># 20160223</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯¹æ‰€æœ‰çš„<code>paperlinks</code>åº”ç”¨<code>getPaperInfo</code>å°±ä¼šè·å¾—æ‰€æœ‰çš„è®ºæ–‡çš„ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">papers.df &lt;- lapply(paperlinks, getPaperInfo)%&gt;%</div><div class="line">  do.call(&quot;rbind&quot;,.)</div></pre></td></tr></table></figure>
<h1 id="2-ç»˜åˆ¶è¯äº‘"><a href="#2-ç»˜åˆ¶è¯äº‘" class="headerlink" title="2. ç»˜åˆ¶è¯äº‘"></a>2. ç»˜åˆ¶è¯äº‘</h1><p>æœ¬éƒ¨åˆ†æˆ‘ä»¬å¯¹<code>WISE</code> è€å¸ˆå‘è¡¨çš„è‹±æ–‡æœŸåˆŠçš„å…³é”®è¯ç»˜åˆ¶è¯äº‘ã€‚</p>
<h2 id="2-1-WISEè€å¸ˆå–œæ¬¢å‘ä»€ä¹ˆæœŸåˆŠï¼Ÿ"><a href="#2-1-WISEè€å¸ˆå–œæ¬¢å‘ä»€ä¹ˆæœŸåˆŠï¼Ÿ" class="headerlink" title="2.1 WISEè€å¸ˆå–œæ¬¢å‘ä»€ä¹ˆæœŸåˆŠï¼Ÿ"></a>2.1 WISEè€å¸ˆå–œæ¬¢å‘ä»€ä¹ˆæœŸåˆŠï¼Ÿ</h2><p>é¦–å…ˆæˆ‘ä»¬é€šè¿‡æ­£åˆ™æ¡ä»¶å°†è‹±æ–‡æœŸåˆŠå‘è¡¨çš„è®ºæ–‡çš„ä¿¡æ¯æå–å‡ºæ¥ï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">papers.en &lt;- papers.df[str_detect(papers.df$journal,&quot;[A-Za-z]&quot;),]</div><div class="line">papers.en$journal &lt;- trimws(papers.en$journal)</div><div class="line">journalRank &lt;- table(papers.en$journal)%&gt;%as.data.frame()%&gt;%arrange(-Freq)</div><div class="line">names(journalRank) &lt;- c(&quot;journal&quot;,&quot;Freq&quot;)</div><div class="line">head(journalRank)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">#                                           journal Freq</div><div class="line"># 1                         Journal of Econometrics   25</div><div class="line"># 2                           China Economic Review   16</div><div class="line"># 3                              Econometric Theory    8</div><div class="line"># 4 Journal of the American Statistical Association    7</div><div class="line"># 5                             Econometric Reviews    4</div><div class="line"># 6                               Economics Letters    3</div></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢WISEè€å¸ˆå‘è¡¨è®ºæ–‡æœ€å¤šçš„å…­ä¸ªæœŸåˆŠå¯ä»¥çœ‹å‡ºæ¥ï¼ŒWISEè€å¸ˆå‘è¡¨çš„è®ºæ–‡è¿˜æ˜¯ä»¥è®¡é‡ç»Ÿè®¡ä¸ºä¸»ï¼Œ å‘è¡¨è®ºæ–‡çš„è´¨é‡ä¹Ÿæ˜¯è›®é«˜çš„ï¼Œ è®¡é‡ç»æµå­¦fieldç¬¬ä¸€çš„æœŸåˆŠJOEï¼Œç«Ÿç„¶å‘äº†25ç¯‡ã€‚ã€‚ã€‚</p>
<h2 id="2-2-WISEçš„è€å¸ˆéƒ½åœ¨ç ”ç©¶å•¥ï¼Ÿ"><a href="#2-2-WISEçš„è€å¸ˆéƒ½åœ¨ç ”ç©¶å•¥ï¼Ÿ" class="headerlink" title="2.2 WISEçš„è€å¸ˆéƒ½åœ¨ç ”ç©¶å•¥ï¼Ÿ"></a>2.2 WISEçš„è€å¸ˆéƒ½åœ¨ç ”ç©¶å•¥ï¼Ÿ</h2><h3 id="2-2-1-è®¡ç®—è¯é¢‘"><a href="#2-2-1-è®¡ç®—è¯é¢‘" class="headerlink" title="2.2.1 è®¡ç®—è¯é¢‘"></a>2.2.1 è®¡ç®—è¯é¢‘</h3><p>ä¸‹é¢æˆ‘ä»¬æƒ³çœ‹çœ‹WISEè€å¸ˆå‘è¡¨çš„è®ºæ–‡éƒ½åœ¨è¯´å•¥å§ã€‚æˆ‘ä»¬ä¸‹é¢ç»Ÿè®¡ä¸‹æ‰€æœ‰çš„è®ºæ–‡å…³é”®è¯çš„è¯é¢‘ã€‚<br>ä¸‹é¢çš„ä»£ç æŠŠæ‰€æœ‰çš„å…³é”®è¯æ”¾åœ¨ä¸€èµ·ï¼Œå¹¶å¯¹è‹±æ–‡å•è¯çš„å¤§å°å†™ï¼Œ æ ‡ç‚¹ï¼Œç©ºæ ¼ï¼Œ å’Œåœæ­¢è¯ï¼ˆæ¯”å¦‚andï¼Œ a, umï¼‰å¤„ç†ï¼Œç„¶åç»Ÿè®¡äº†å„ä¸ªå•è¯çš„å‡ºç°é¢‘ç‡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">keyWords &lt;- str_c(na.omit(papers.en$keyWords), collapse = &quot; &quot;)</div><div class="line">keyWords_source &lt;- VectorSource(keyWords)</div><div class="line">wordMatrix &lt;- Corpus(keyWords_source)%&gt;%</div><div class="line">  tm_map(content_transformer(tolower))%&gt;%</div><div class="line">  tm_map(removePunctuation)%&gt;%</div><div class="line">  tm_map(stripWhitespace)%&gt;%</div><div class="line">  tm_map(removeWords, stopwords(&quot;english&quot;))%&gt;%</div><div class="line">  DocumentTermMatrix()%&gt;%as.matrix()%&gt;%t()%&gt;%</div><div class="line">  as.data.frame()</div><div class="line">wordMatrix$Term &lt;- rownames(wordMatrix)</div><div class="line">names(wordMatrix) &lt;- c(&quot;Freq&quot;,&quot;Term&quot;)</div><div class="line">termFreq &lt;- select(wordMatrix, Term, Freq)</div></pre></td></tr></table></figure>
<h2 id="2-3-ç»˜åˆ¶è¯äº‘"><a href="#2-3-ç»˜åˆ¶è¯äº‘" class="headerlink" title="2.3 ç»˜åˆ¶è¯äº‘"></a>2.3 ç»˜åˆ¶è¯äº‘</h2><p>###2.3.1 ä½¿ç”¨<code>wordcloud2</code>ç»˜åˆ¶è¯äº‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wordcloud2(termFreq)</div></pre></td></tr></table></figure>
<p><img src="/img/wisepapers/origin.png" alt=""></p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹<code>size</code>, <code>color</code>, <code>shape</code>ç­‰å‚æ•°ä¿®æ”¹å­—ä½“å¤§å°ï¼Œ é¢œè‰²ï¼Œä»¥åŠè¯äº‘å½¢çŠ¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wordcloud2(termFreq, size = 1,shape = &apos;star&apos;)</div></pre></td></tr></table></figure>
<p><img src="/img/wisepapers/star.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wordcloud2(termFreq, size = 2, minRotation = -pi/6, maxRotation = -pi/6,</div><div class="line">  rotateRatio = 1)</div></pre></td></tr></table></figure>
<p><img src="/img/wisepapers/slope.png" alt=""></p>
<p>ç”šè‡³ä½ å¯ä»¥è‡ªå®šä¹‰è¯äº‘çš„å½¢çŠ¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">figPath = system.file(&quot;examples/t.png&quot;,package = &quot;wordcloud2&quot;)</div><div class="line">wordcloud2(demoFreq, figPath = figPath, size = 1.5,color = &quot;skyblue&quot;)</div></pre></td></tr></table></figure>
<p><img src="http://7xr5em.com1.z0.glb.clouddn.com/tcloud.png" alt=""></p>
<h3 id="2-3-2-ä½¿ç”¨letterCloudç»˜åˆ¶è¯äº‘"><a href="#2-3-2-ä½¿ç”¨letterCloudç»˜åˆ¶è¯äº‘" class="headerlink" title="2.3.2 ä½¿ç”¨letterCloudç»˜åˆ¶è¯äº‘"></a>2.3.2 ä½¿ç”¨<code>letterCloud</code>ç»˜åˆ¶è¯äº‘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">letterCloud(termFreq, word = &quot;WISE&quot;, size = 2)</div></pre></td></tr></table></figure>
<p><a href="http://imgbox.com/b95S01bf" target="_blank"><img src="http://i.imgbox.com/b95S01bf.png" alt="image host"></a></p>
<ol>
<li><p>Wordcloud2: <a href="http://lchiffon.github.io/2016/06/01/wordcloud2.html" target="_blank" rel="external">http://lchiffon.github.io/2016/06/01/wordcloud2.html</a></p>
</li>
<li><p>Introdcution to Wordccloud2: <a href="http://lchiffon.github.io/2016/06/10/wordcloud.html" target="_blank" rel="external">http://lchiffon.github.io/2016/06/10/wordcloud.html</a></p>
</li>
<li><p>WISE Journal: <a href="http://121.192.176.75/index.php?ser_id=2" target="_blank" rel="external">http://121.192.176.75/index.php?ser_id=2</a></p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">## R version 3.3.0 (2016-05-03)</div><div class="line">## Platform: x86_64-apple-darwin13.4.0 (64-bit)</div><div class="line">## Running under: OS X 10.11.1 (El Capitan)</div><div class="line">## </div><div class="line">## locale:</div><div class="line">## [1] zh_CN.UTF-8/zh_CN.UTF-8/zh_CN.UTF-8/C/zh_CN.UTF-8/zh_CN.UTF-8</div><div class="line">## </div><div class="line">## attached base packages:</div><div class="line">## [1] stats     graphics  grDevices utils     datasets  methods   base     </div><div class="line">## </div><div class="line">## loaded via a namespace (and not attached):</div><div class="line">##  [1] magrittr_1.5    formatR_1.2.1   tools_3.3.0     htmltools_0.3.5</div><div class="line">##  [5] yaml_2.1.13     Rcpp_0.12.5     stringi_1.0-1   rmarkdown_0.8  </div><div class="line">##  [9] knitr_1.12.3    stringr_1.0.0   digest_0.6.9    evaluate_0.8</div></pre></td></tr></table></figure>
</div></article></div></section><footer><div class="paginator"><a href="/2016/07/10/RClub/summerCamp/" class="prev"><button class="ui button teal">PREV</button></a><a href="/2016/04/19/å€ºåˆ¸å‘è¡Œä¸æ‰¿é”€ç¬”è®°/" class="next"><button class="ui button teal">NEXT</button></a></div><div data-thread-key="2016/07/08/wordcloud/" data-title="ç»˜åˆ¶WISEè€å¸ˆè®ºæ–‡å…³é”®è¯è¯äº‘" data-url="http://shichangshun.cn/2016/07/08/wordcloud/" class="ds-share"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><span class="ds-more">åˆ†äº«åˆ°ï¼š</span></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">å¾®åš</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">è…¾è®¯å¾®åš</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">å¾®ä¿¡</a></li></ul></div></div><div data-thread-key="2016/07/08/wordcloud/" data-title="ç»˜åˆ¶WISEè€å¸ˆè®ºæ–‡å…³é”®è¯è¯äº‘" data-url="http://shichangshun.cn/2016/07/08/wordcloud/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"changshun"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
   || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>Â© 2015 - 2018 <a href="http://shichangshun.cn">Changshun</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and theme by <a href="https://github.com/littlewin-wang/hexo-theme-casual" target="_blank">casual</a></p></div></footer></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script><script src="/js/jquery.scrollex.js"></script><script src="/js/jquery.goup.min.js"></script><script src="/js/semantic.min.js"></script><script src="/js/casual.js"></script><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>$(document).ready(function(){$.goup({trigger:100,bottomOffset:100,locationOffset: 0,title:'',titleAsText:true});});</script><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','TvAnFS4AVxjiJUvrZJRB','2.0.0');</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></div></body></html>